<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Fixed Gist for POE2 Party</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .step {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .result {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            display: none;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #0056b3;
        }
        .code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 3px;
            padding: 10px;
            font-family: monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß ‡∏™‡∏£‡πâ‡∏≤‡∏á Fixed Gist Session ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö POE2 Party</h1>
        
        <div class="step">
            <h3>ÔøΩ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏™‡πà GitHub Token</h3>
            <p>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Gist ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ GitHub Personal Access Token:</p>
            <ol>
                <li>‡πÑ‡∏õ‡∏ó‡∏µ‡πà <a href="https://github.com/settings/tokens" target="_blank">GitHub ‚Üí Settings ‚Üí Personal Access Tokens</a></li>
                <li>‡∏Ñ‡∏•‡∏¥‡∏Å "Generate new token (classic)"</li>
                <li>‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠: "POE2 Gist Creator"</li>
                <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å scope: ‚úÖ <strong>gist</strong> (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ)</li>
                <li>‡∏Ñ‡∏•‡∏¥‡∏Å "Generate token"</li>
                <li>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å token ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</li>
            </ol>
            <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx" style="width: 300px; padding: 8px; margin: 10px 0;">
            <br>
            <small style="color: #666;">‚ö†Ô∏è Token ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Gist ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ</small>
        </div>
        
        <div class="step">
            <h3>ÔøΩüìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Gist</h3>
            <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Fixed Gist Session ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            <button onclick="createFixedGist()">üöÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á Fixed Gist Session</button>
            
            <div id="result" class="result">
                <h4>‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! Gist ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠:</h4>
                <div class="code" id="gistId"></div>
                <p><strong>URL:</strong> <span id="gistUrl"></span></p>
            </div>
        </div>
        
        <div class="step">
            <h3>‚öôÔ∏è ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÇ‡∏Ñ‡πâ‡∏î</h3>
            <p>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Gist ID ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå <code>script.js</code>:</p>
            <div class="code">
const FIXED_GIST_ID = 'your-fixed-gist-id-here'; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Gist ID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ
            </div>
            <p>‡πÄ‡∏õ‡πá‡∏ô:</p>
            <div class="code" id="codeExample">
const FIXED_GIST_ID = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á Gist ‡∏Å‡πà‡∏≠‡∏ô';
            </div>
        </div>
        
        <div class="step">
            <h3>üéâ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
            <p>‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß:</p>
            <ul>
                <li>‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Session ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
                <li>‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° Session ‡πÅ‡∏•‡πâ‡∏ß</li>
                <li>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏∞ sync ‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
            </ul>
        </div>
    </div>

    <script>
        async function createFixedGist() {
            const button = event.target;
            const githubToken = document.getElementById('githubToken').value.trim();
            
            if (!githubToken) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà GitHub Token ‡∏Å‡πà‡∏≠‡∏ô!');
                return;
            }
            
            button.disabled = true;
            button.textContent = '‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...';
            
            const GITHUB_GIST_API = 'https://api.github.com/gists';
            
            const gistData = {
                description: "POE2 Party Calculator - Fixed Session for GIGOLO Group",
                public: false,
                files: {
                    "poe2-party-data.json": {
                        content: JSON.stringify({
                            items: [],
                            evidence: [],
                            playerConfirmations: {
                                'Player 1': 'pending',
                                'Player 2': 'pending',
                                'Player 3': 'pending',
                                'Player 4': 'pending',
                                'Player 5': 'pending',
                                'Player 6': 'pending'
                            },
                            sessionInfo: {
                                created: Date.now(),
                                lastUpdated: Date.now(),
                                createdBy: 'poe2-party-group',
                                groupName: 'GIGOLO Party Group'
                            }
                        }, null, 2)
                    }
                }
            };

            try {
                const response = await fetch(GITHUB_GIST_API, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${githubToken}`
                    },
                    body: JSON.stringify(gistData)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                // Show result
                document.getElementById('result').style.display = 'block';
                document.getElementById('gistId').textContent = result.id;
                document.getElementById('gistUrl').textContent = result.html_url;
                document.getElementById('codeExample').textContent = `const FIXED_GIST_ID = '${result.id}';`;
                
                button.textContent = '‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!';
                button.style.background = '#28a745';
                
                console.log('‚úÖ Created Fixed Gist:', result.id);
                
            } catch (error) {
                console.error('‚ùå Error creating Gist:', error);
                button.textContent = '‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î - ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà';
                button.style.background = '#dc3545';
                button.disabled = false;
                
                alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message);
            }
        }
    </script>
</body>
</html>